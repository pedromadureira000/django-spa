(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["myaccount"],{fa2c:function(s,t,r){"use strict";r.r(t);var e=function(){var s=this,t=s.$createElement,r=s._self._c||t;return r("div",[r("div",{staticClass:"ma-3"},[r("h3",[s._v("Update Account Information")]),r("form",{on:{submit:function(t){return t.preventDefault(),s.infoSubmit.apply(null,arguments)}}},[r("div",{staticClass:"mb-3"},[r("v-text-field",{attrs:{label:"First Name","error-messages":s.firstNameErrors,required:""},on:{blur:function(t){return s.$v.first_name.$touch()}},model:{value:s.first_name,callback:function(t){s.first_name=t},expression:"first_name"}})],1),r("div",{staticClass:"mb-3"},[r("v-text-field",{attrs:{label:"Last Name","error-messages":s.lastNameErrors,required:""},on:{blur:function(t){return s.$v.last_name.$touch()}},model:{value:s.last_name,callback:function(t){s.last_name=t},expression:"last_name"}})],1),r("div",{staticClass:"mb-3"},[r("v-text-field",{attrs:{label:"Email",type:"email",disabled:""},model:{value:s.email,callback:function(t){s.email=t},expression:"email"}})],1),r("v-btn",{attrs:{color:"primary",type:"submit"}},[s._v("Save")]),"OK"===s.submitProfileStatus?r("p",{staticClass:"typo__p"},[s._v(" Thanks for your submission! ")]):s._e(),"ERROR"===s.submitProfileStatus?r("p",{staticClass:"typo__p"},[s._v(" Please fill the form correctly. ")]):s._e(),"PENDING"===s.submitProfileStatus?r("p",{staticClass:"typo__p"},[s._v(" Sending... ")]):s._e(),"SERVER ERROR"===s.submitProfileStatus?r("p",{staticClass:"typo__p"},[s._v(" Server Error ")]):s._e()],1),r("h3",{staticClass:"mt-4"},[s._v("Change Password")]),r("p",{staticClass:"caption"},[s._v("After change your password you will be logged out.")]),r("form",{on:{submit:function(t){return t.preventDefault(),s.passwordSubmit.apply(null,arguments)}}},[r("div",{staticClass:"mb-3"},[r("v-text-field",{attrs:{type:"password",label:"Current password","error-messages":s.currentPassErrors,required:""},on:{blur:function(t){return s.$v.current_password.$touch()}},model:{value:s.current_password,callback:function(t){s.current_password=t},expression:"current_password"}})],1),r("div",{staticClass:"mb-3"},[r("v-text-field",{attrs:{type:"password",label:"Password","error-messages":s.passwordErrors,required:""},on:{blur:function(t){return s.$v.password.$touch()}},model:{value:s.password,callback:function(t){s.password=t},expression:"password"}})],1),r("div",{staticClass:"mb-3"},[r("v-text-field",{attrs:{type:"password",label:"Password Confirm","error-messages":s.passConfirmErrors,required:""},on:{blur:function(t){return s.$v.password_confirm.$touch()}},model:{value:s.password_confirm,callback:function(t){s.password_confirm=t},expression:"password_confirm"}})],1),r("v-btn",{attrs:{color:"primary",type:"submit"}},[s._v("Save")]),"OK"===s.submitPasswordStatus?r("p",{staticClass:"typo__p"},[s._v(" Thanks for your submission! ")]):s._e(),"ERROR"===s.submitPasswordStatus?r("p",{staticClass:"typo__p"},[s._v(" Please fill the form correctly. ")]):s._e(),"PENDING"===s.submitPasswordStatus?r("p",{staticClass:"typo__p"},[s._v(" Sending... ")]):s._e(),"SERVER ERROR"===s.submitPasswordStatus?r("p",{staticClass:"typo__p"},[s._v(" Server Error ")]):s._e()],1)])])},a=[],i=r("bc3a"),o=r.n(i),n=r("b5ae"),u=r("1dce"),l={mixins:[u["validationMixin"]],data:function(){return{first_name:this.$store.state.user.user.first_name,last_name:this.$store.state.user.user.last_name,email:this.$store.state.user.user.email,current_password:"",password:"",password_confirm:"",submitProfileStatus:null,submitPasswordStatus:null}},validations:{first_name:{required:n["required"],maxLength:Object(n["maxLength"])(10)},last_name:{required:n["required"],maxLength:Object(n["maxLength"])(10)},current_password:{required:n["required"],minLength:Object(n["minLength"])(6),maxLength:Object(n["maxLength"])(20)},password:{required:n["required"],minLength:Object(n["minLength"])(6),maxLength:Object(n["maxLength"])(20)},password_confirm:{password_confirm:Object(n["sameAs"])("password")},profileGroup:["first_name","last_name"],passwordUpdateGroup:["current_password","password","password_confirm"]},methods:{infoSubmit:function(){var s=this;this.$v.profileGroup.$touch(),this.$v.profileGroup.$invalid?this.submitProfileStatus="ERROR":(this.submitProfileStatus="PENDING",o.a.put("/api/user/profile",{first_name:this.first_name,last_name:this.last_name}).then((function(t){s.$store.dispatch("setUser",t.data),setTimeout((function(){s.submitProfileStatus="OK"}),2500)})).catch((function(){s.submitProfileStatus="SERVER ERROR"})))},passwordSubmit:function(){var s=this;this.$v.passwordUpdateGroup.$touch(),this.$v.passwordUpdateGroup.$invalid?this.submitPasswordStatus="ERROR":(this.submitPasswordStatus="PENDING",o.a.put("/api/user/profilepassword",{current_password:this.current_password,password:this.password}).then((function(){s.submitPasswordStatus="OK",setTimeout((function(){s.$router.push("/login")}),500)})).catch((function(){s.submitPasswordStatus="SERVER ERROR"})))}},computed:{firstNameErrors:function(){var s=[];return this.$v.first_name.$dirty?(!this.$v.first_name.required&&s.push("First name is required."),!this.$v.first_name.maxLength&&s.push("This field must have up to 10 characters."),s):s},lastNameErrors:function(){var s=[];return this.$v.last_name.$dirty?(!this.$v.last_name.required&&s.push("Last name is required."),!this.$v.last_name.maxLength&&s.push("This field must have up to 10 characters."),s):s},currentPassErrors:function(){var s=[];return this.$v.current_password.$dirty?(!this.$v.current_password.required&&s.push("Password is required."),!this.$v.current_password.maxLength&&s.push("This field must have up to 20 characters."),!this.$v.current_password.minLength&&s.push("This field must have at least 6 characters."),s):s},passwordErrors:function(){var s=[];return this.$v.password.$dirty?(!this.$v.password.required&&s.push("Password is required."),!this.$v.password.maxLength&&s.push("This field must have up to 20 characters."),!this.$v.password.minLength&&s.push("This field must have at least 6 characters."),s):s},passConfirmErrors:function(){var s=[];return this.$v.password_confirm.$dirty?(!this.$v.password_confirm.password_confirm&&s.push("Password must be iqual."),s):s}}},d=l,m=r("2877"),p=r("6544"),c=r.n(p),h=r("8336"),f=r("8654"),_=Object(m["a"])(d,e,a,!1,null,"acdec456",null);t["default"]=_.exports;c()(_,{VBtn:h["a"],VTextField:f["a"]})}}]);
//# sourceMappingURL=myaccount.0278e306.js.map